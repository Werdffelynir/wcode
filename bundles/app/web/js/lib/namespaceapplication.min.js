!function(a){var b=function(){return function(){if(!(this instanceof b))return new b;if(this.path="/",this.debug=!0,this._require_key=!1,this._requires_stack={},1==arguments.length&&arguments[0]&&"object"==typeof arguments[0])for(var a in arguments[0])void 0!==this[a]&&["path","debug"].indexOf(a)===-1||(this[a]=arguments[0][a]);return this._init_extensions(),this}}();b.version="0.2.0",b.prototype=function(){var a={};return a.namespace=function(a,b){var c,d,e=a.split("."),f=this||{},g=e.length;for(c=0;c<g;c++)d=e[c].trim(),"object"!=typeof f[d]?(f[d]=c+1>=g&&b?b.call(f,this,{}):{},f=f[d]):f=f[d];return f},a.require=function(a,b,c,d){return this._require_key=a,this._requires_stack[a]={src:Array.isArray(b)?b:[b],elements:[],oncomplete:c,onerror:d},this},a.requireStart=function(a){return a=a||this._require_key,this._requires_stack[a]?this._load_scripts_recursive(0,a):console.error("Require source not found! Key: "+a+" not exist!"),this},a._load_scripts_recursive=function(a,c){var d=this,e=this._requires_stack[c];e.src[a]?(Array.isArray(e.elements)||(e.elements=[]),e.elements.push(b.loadJS(e.src[a],function(){d._load_scripts_recursive(++a,c)},e.onerror))):a===e.src.length?e.oncomplete.call(d,e.elements):d._load_scripts_recursive(++a,c)},a._init_extensions=function(){if("function"==typeof b.extension&&"object"==typeof b.extension.stack){var a,c,d=b.extension.stack;for(a in d)c=d[a].callback,"function"==typeof c&&(this[a]=c.call(c,this))}},a}(),b.prototype.constructor=b,b.loadJS=function(a,b,c){if(!a)return null;var d=document.createElement("script"),e="src-"+Math.random().toString(32).slice(2);return d.src=".js"===a.substr(-3)?a:a+".js",d.type="application/javascript",d.id=e,d.onload=b,d.onerror=c,document.head.appendChild(d),d},b.loadCSS=function(a,b,c){if(!a)return null;var d=document.createElement("link"),e="src-"+Math.random().toString(32).slice(2);return d.href=".css"===a.substr(-4)?a:a+".css",d.rel="stylesheet",d.id=e,d.onload=b,d.onerror=c,document.head.appendChild(d),d},b.extension=function(a,c){b.extension.stack[a]={name:a,callback:c}},b.extension.stack={},b.domLoaded=function(a){document.querySelector("body")?a.call():document.addEventListener("DOMContentLoaded",function(){a.call()},!1)},b.typeOf=function(a,b){var c=Object.prototype.toString.call(a).slice(8,-1).toLowerCase();return c=c.toLowerCase(),"string"==typeof b?b.toLowerCase()===c:c},b.extend=function(a,c){var d;for(d in c)c[d]&&c[d].constructor&&c[d].constructor===Object?(a[d]=a[d]||{},b.extend(a[d],c[d])):a[d]=c[d];return a},b.uri=function(a){return a=a||location.pathname,a=a.replace(/\/+/gi,"/"),a.length>1&&"/"!=a.slice(0,1)?"/"+a:a},b.redirect=function(b){a.location.href=b||a.location.href},b.routePath=function(b,c){var d=a.location.pathname;return b&&(d+=a.location.hash),c&&(d+=a.location.search),this.url&&0===d.indexOf(this.url)&&(d=d.substr(this.url.length),"/"!==d.slice(0,1)&&(d="/"+d)),d},b.query=function(a,c,d){var e=b.queryAll(a,c,d);return e&&e[0]?e[0]:null},b.queryAll=function(a,b,c){var d=typeof b,e=document,f=[],g=null;return a&&a.nodeType===Node.ELEMENT_NODE?[a]:("function"==d?g=b:"string"==d?e=document.querySelector(b):"object"!=d||!b||b.nodeType!==Node.ELEMENT_NODE&&b.nodeType!==Node.DOCUMENT_NODE||(e=b),e&&(f=[].slice.call(e.querySelectorAll(a))),g&&g.call(c||{},f),f)},b.queryUp=function(a,c,d){var e=null;return void 0===d&&(d=20),"string"==typeof c&&(c=document.querySelector(c)),c.nodeType!==Node.ELEMENT_NODE&&(c=document,d=0),"string"==typeof a&&(e=c.querySelector(a)),!e&&d>0&&c.parentNode?b.queryUp(a,c.parentNode,--d):e},b.each=function(a,b,c){var d=0;if(a instanceof Array)for(d=0;d<a.length;d++)b.call({},a[d],d,c);else for(d in a)b.call({},a[d],d,c)},b.on=function(a,c,d,e){var f=null;"string"==typeof a?f=b.queryAll(a):"object"==typeof a&&a.nodeType==Node.ELEMENT_NODE&&(f=[a]),f&&b.each(f,function(a){"object"==typeof a&&a.addEventListener(c,d,!!e)})},b.css=function(a,c){var d,e,f,g,h,i=b.queryAll(a);if("string"==typeof c){g=c.split(";"),f={};for(d in g)h=c.split(":"),2==h.length&&(f[h[0]]=h[1]);return b.css(f)}if(c&&"object"==typeof c)for(d in i)for(e in c)i[d].style[e]=c[e];return i},b.inject=function(a,b,c){return"string"==typeof a&&(a=this.query(a)),"object"==typeof a&&a.nodeType===Node.ELEMENT_NODE?("object"==typeof b&&b.nodeType===Node.ELEMENT_NODE?(c||(a.textContent=""),a.appendChild(b)):a.innerHTML=c?a.innerHTML+b:b,a):null},b.format=function(a,b){var c;return Array.isArray(b)?c=new RegExp(/{(\d+)}/g):b&&"object"==typeof b&&(c=new RegExp(/{(\w+)}/g)),a.replace(c,function(a,c){return"undefined"!=typeof b[c]?b[c]:a})},b.ajax=function(a,b,c){var d,f=new FormData,g=new XMLHttpRequest,h={method:a.method||"GET",data:a.data||{},headers:a.headers||{},action:a.action||a.url||document.location};if("POST"!==h.method.toUpperCase()){h.action+=h.action.indexOf("?")===-1?"?":"";for(d in h.data)h.action+="&"+d+"="+encodeURIComponent(h.data[d])}else for(d in h.data)f.append(d,encodeURIComponent(h.data[d]));g.open(h.method,h.action,!0),g.setRequestHeader("X-Requested-With","XMLHttpRequest");for(d in h.headers)g.setRequestHeader(d,h.headers[d]);return g.onloadend=function(){"object"!=typeof c&&(c={}),c.XMLHttpRequest=g,"function"==typeof b&&b.call(c,g.status,g.responseText)},g.send(f),g},b.Storage=function(a,c){switch(arguments.length){case 0:return{set:b.Storage.set,get:b.Storage.get,key:b.Storage.key,clear:b.Storage.clear,remove:b.Storage.remove,length:b.Storage.length};case 1:return b.Storage.get(a);case 2:return b.Storage.set(a,c)}},b.Storage.set=function(b,c){try{c=JSON.stringify(c)}catch(a){}return a.localStorage.setItem(b,c)},b.Storage.get=function(b){var c=a.localStorage.getItem(b);if(c)try{c=JSON.parse(c)}catch(a){}return c},b.Storage.remove=function(b){return a.localStorage.removeItem(b)},b.Storage.key=function(b){return a.localStorage.key(b)},b.Storage.clear=function(){return a.localStorage.clear()},b.Storage.length=function(){return a.localStorage.length},function(a){a.router=function(a,c,d,e){a=a||"";var f=new RegExp("^"+a+"$","i"),g=b.routePath.call(this,d,e);return!!f.test(g)&&(c.call(this),!0)},a.loadJS=b.loadJS,a.loadCSS=b.loadCSS,a.domLoaded=b.domLoaded,a.typeOf=b.typeOf,a.extend=b.extend,a.uri=b.uri,a.redirect=b.redirect,a.routePath=b.routePath,a.query=b.query,a.queryAll=b.queryAll,a.queryUp=b.queryUp,a.each=b.each,a.on=b.on,a.css=b.css,a.inject=b.inject,a.format=b.format,a.ajax=b.ajax,a.Storage=b.Storage}(b.prototype),b.domLoaded(function(){var a=b.query("script[data-init]");a&&a.getAttribute("data-init").length>2&&b.loadJS(a.getAttribute("data-init"))}),a.NamespaceApplication=b}(window);